<html>
  <head>
    <meta charset="UTF-8">
    <title>Emailings 2.0</title>
    <style>
      #app {
        display: flex;
        height: 100vh;
      }
      
      #sidebar {
        width: 25%;
        border-right: 1px solid #ccc;
        overflow-y: auto;
        padding: 10px;
      }
      
      #content {
        width: 75%;
        padding: 20px;
        overflow-y: auto;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <div id="sidebar">
        <ul id="data-types"></ul>
      </div>
      <div id="content">
        <!-- Contenu détaillé s'affichera ici -->
      </div>
    </div>

    <script>
// Fonction pour lire le CSV et extraire id, objet, content
async function readCSV(fileName) {
  // On récupère le fichier CSV via fetch
  const response = await fetch(fileName);
  const text = await response.text();

  const lines = text.trim().split('\n'); // découpe chaque ligne
  const headers = lines[0].split(',');   // première ligne = headers

  // Vérifier que les colonnes existent
  const idIndex = headers.indexOf('id');
  const objetIndex = headers.indexOf('objet');
  const contentIndex = headers.indexOf('content');

  if (idIndex === -1 || objetIndex === -1 || contentIndex === -1) {
    throw new Error('Le CSV doit contenir les colonnes : id, objet, content');
  }

  // On construit le tableau
  const data = lines.slice(1).map(line => {
    const values = line.split(',');
    return {
      id: values[idIndex],
      objet: values[objetIndex],
      content: values[contentIndex]
    };
  });

  return data;
}

// Exemple d'utilisation
readCSV('emailing.csv')
  .then(data => console.log(data))
  .catch(err => console.error(err));


      
    </script>

  </body>

</html>
